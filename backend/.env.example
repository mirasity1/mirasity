# Backend Environment Variables
# Copie este arquivo para .env e configure suas credenciais

# SMTP Configuration - MXRouting Optimized for Railway
SMTP_HOST=heracles.mxrouting.net
SMTP_PORT=2525
SMTP_USER=no-reply@mirasity.pt
SMTP_PASS=sua-senha-aqui

# SMTP Provider Optimization
# Set to 'mxrouting' for MXRouting optimization (SMTP + HTTP API fallback)
# Leave empty or set to 'generic' for other SMTP providers
SMTP_PROVIDER=mxrouting

# Server Configuration
PORT=3001
NODE_ENV=production

# Frontend Configuration
FRONTEND_URL=https://mirasity.pt

# Railway Variables (automatically set)
RAILWAY_STATIC_URL=
RAILWAY_PUBLIC_DOMAIN=

# === ESTRATÉGIA HÍBRIDA MXROUTING ===
# 
# O sistema agora usa uma abordagem híbrida:
# 1. Primeiro tenta SMTP tradicional (mais rápido)
# 2. Se falhar, usa MXroute SMTP API (HTTP - sempre funciona)
#
# TESTES DISPONÍVEIS:
# GET /api/test-smtp              - Teste padrão (SMTP first)
# GET /api/test-mxroute-api       - Teste apenas HTTP API
# GET /api/test-smtp-port/2525    - Teste porta específica
#
# SMTP tradicional tenta (em ordem):
# 1. 2525 - Porta alternativa (recomendada)
# 2. 587  - TLS padrão  
# 3. 465  - SSL direto
# 4. 25   - SMTP clássico
# 
# Se TODAS falharem → MXroute SMTP API (HTTP)
# 
# A API HTTP SEMPRE funciona porque:
# ✅ Usa HTTPS (porta 443) - nunca bloqueada
# ✅ Não precisa de conexão SMTP persistente
# ✅ Funciona em qualquer ambiente cloud
# ✅ Mesmo resultado final (email enviado)
#
# Para outros servidores SMTP:
# - Muda SMTP_PROVIDER=generic
# - Configura SMTP_HOST/PORT do teu servidor